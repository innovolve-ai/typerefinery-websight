<script>
  window.typerefinery = {};
  window.Vue = Vue;
  const { createApp, ref } = Vue;

  const vueApp = Vue.createApp({});
  console.log(vueApp);


  window.typerefinery.vueUtils = {};

  (function(vueApp, utils){
    
    utils.addComponent = () => {
      console.log("ADD COMPONENT");
    };

    utils.addMethod = () => {
      console.log("ADD METHOD");
    };

  })(vueApp, window.typerefinery.vueUtils);

  
  // component namespace
  window.typerefinery.button = {};
  (function (vueApp, button) {
    console.log("____namespace____");
    console.log("Prime Vue Button  ",primevue.button);

    button.vueButtonIsClicked = () => {
      console.log(this);
      console.log("INSIDE METHOD")
    }
    
    var primeVueButtonExtended = {};

    Object.assign(primeVueButtonExtended, primevue.button);
    
    primeVueButtonExtended.methods = {
      vueButtonIsClicked() {
        console.log("Vue Button is clicked");
      }
    }

    console.log("primeVueButtonExtended  ", primeVueButtonExtended);

    vueApp.component("p-button", primeVueButtonExtended);
    
    console.log("Vue App after p button added. ",  vueApp);
    // Adding Component
    // vueApp.addComponent({ "p-button": primevue.button });
    
    // vueApp.addMethod({ "clickHandler": clickHandler });

  })(vueApp, window.typerefinery.button);


//Inputtext namspace
  window.typerefinery.inputText = {};
  (function(vueApp,utils){
    utils.vueInputOnChange = (e) => {
      console.log("On change.", e)
    }
vueApp.component("p-inputtext",primevue.inputtext)
  })(vueApp,window.typerefinery.inputText)


  vueApp.mount('#app');

</script>
